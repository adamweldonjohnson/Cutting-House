'use strict';

//NAVBAR/HAMBURGER
//CAPTURE ON LOAD
document.addEventListener('DOMContentLoaded', function () {

  // Get all "navbar-burger" elements
  var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

  // Check if there are any navbar burgers
  if ($navbarBurgers.length > 0) {

    // Add a click event on each of them
    $navbarBurgers.forEach(function ($el) {
      $el.addEventListener('click', function () {

        // Get the target from the "data-target" attribute
        var target = $el.dataset.target;
        var $target = document.getElementById(target);

        // Toggle the class on both the "navbar-burger" and the "navbar-menu"
        $el.classList.toggle('is-active');
        $target.classList.toggle('is-active');
      });
    });
  }
});

//IMAGE CONTAINER/MODAL PAIRS
var aboutImgTop1 = document.getElementById('aboutImgTop1');
var aboutImgTop2 = document.getElementById('aboutImgTop2');
var aboutImgTop3 = document.getElementById('aboutImgTop3');
var aboutImgTop4 = document.getElementById('aboutImgTop4');
var aboutImgTop1Modal = document.getElementById('aboutImgTop1Modal');
var aboutImgTop2Modal = document.getElementById('aboutImgTop2Modal');
var aboutImgTop3Modal = document.getElementById('aboutImgTop3Modal');
var aboutImgTop4Modal = document.getElementById('aboutImgTop4Modal');
var aboutImgBottom1 = document.getElementById('aboutImgBottom1');
var aboutImgBottom2 = document.getElementById('aboutImgBottom2');
var aboutImgBottom3 = document.getElementById('aboutImgBottom3');
var aboutImgBottom4 = document.getElementById('aboutImgBottom4');
var aboutImgBottom1Modal = document.getElementById('aboutImgBottom1Modal');
var aboutImgBottom2Modal = document.getElementById('aboutImgBottom2Modal');
var aboutImgBottom3Modal = document.getElementById('aboutImgBottom3Modal');
var aboutImgBottom4Modal = document.getElementById('aboutImgBottom4Modal');

//Toggles opacity on hover
function opacityToggle(element) {
  element.addEventListener('mouseenter', function () {
    element.style.opacity = 0.5;
  });
  element.addEventListener('mouseleave', function () {
    element.style.opacity = 1;
  });
}

//Activates modal on click
function modalToggle(element) {
  element.addEventListener('click', function () {
    // console.log(element.id);
    var modal = document.getElementById(element.id + 'Modal');
    // console.log(modal);
    modal.classList.toggle('is-active');
  });
}

//MODAL CLOSE

function modalClose(element) {
  window.onclick = function (element) {
    var modal = element.path[1];
    modal.classList.toggle('is-active');
  };
}

//Combines hover state and modal toggles
function imgHoverAndModalToggle(element) {
  opacityToggle(element);
  modalToggle(element);
  modalClose(element);
}

imgHoverAndModalToggle(aboutImgTop1);
imgHoverAndModalToggle(aboutImgTop2);
imgHoverAndModalToggle(aboutImgTop3);
imgHoverAndModalToggle(aboutImgTop4);
imgHoverAndModalToggle(aboutImgBottom1);
imgHoverAndModalToggle(aboutImgBottom2);
imgHoverAndModalToggle(aboutImgBottom3);
imgHoverAndModalToggle(aboutImgBottom4);