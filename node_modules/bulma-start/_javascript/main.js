//NAVBAR/HAMBURGER
//CAPTURE ON LOAD
document.addEventListener('DOMContentLoaded', function() {

  // Get all "navbar-burger" elements
  var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

  // Check if there are any navbar burgers
  if ($navbarBurgers.length > 0) {

    // Add a click event on each of them
    $navbarBurgers.forEach(function($el) {
      $el.addEventListener('click', function() {

        // Get the target from the "data-target" attribute
        var target = $el.dataset.target;
        var $target = document.getElementById(target);

        // Toggle the class on both the "navbar-burger" and the "navbar-menu"
        $el.classList.toggle('is-active');
        $target.classList.toggle('is-active');

      });
    });
  }
});


//IMAGE CONTAINER/MODAL PAIRS
let aboutImgTop1 = document.getElementById('aboutImgTop1');
let aboutImgTop2 = document.getElementById('aboutImgTop2');
let aboutImgTop3 = document.getElementById('aboutImgTop3');
let aboutImgTop4 = document.getElementById('aboutImgTop4');
let aboutImgTop1Modal = document.getElementById('aboutImgTop1Modal');
let aboutImgTop2Modal = document.getElementById('aboutImgTop2Modal');
let aboutImgTop3Modal = document.getElementById('aboutImgTop3Modal');
let aboutImgTop4Modal = document.getElementById('aboutImgTop4Modal');
let aboutImgBottom1 = document.getElementById('aboutImgBottom1');
let aboutImgBottom2 = document.getElementById('aboutImgBottom2');
let aboutImgBottom3 = document.getElementById('aboutImgBottom3');
let aboutImgBottom4 = document.getElementById('aboutImgBottom4');
let aboutImgBottom1Modal = document.getElementById('aboutImgBottom1Modal');
let aboutImgBottom2Modal = document.getElementById('aboutImgBottom2Modal');
let aboutImgBottom3Modal = document.getElementById('aboutImgBottom3Modal');
let aboutImgBottom4Modal = document.getElementById('aboutImgBottom4Modal');

//Toggles opacity on hover
function opacityToggle(element) {
  element.addEventListener('mouseenter', () => {
    element.style.opacity = 0.5;
  });
  element.addEventListener('mouseleave', () => {
    element.style.opacity = 1;
  });
}

//Activates modal on click
function modalToggle(element) {
  element.addEventListener('click', () => {
    // console.log(element.id);
    let modal = document.getElementById((element.id + 'Modal'))
    // console.log(modal);
    modal.classList.toggle('is-active');
  })
}

//MODAL CLOSE

function modalClose(element) {
  window.onclick = function(element) {
    let modal = element.path[1];
    modal.classList.toggle('is-active');
  }
}

//Combines hover state and modal toggles
function imgHoverAndModalToggle(element) {
  opacityToggle(element);
  modalToggle(element);
  modalClose(element);
}

imgHoverAndModalToggle(aboutImgTop1);
imgHoverAndModalToggle(aboutImgTop2);
imgHoverAndModalToggle(aboutImgTop3);
imgHoverAndModalToggle(aboutImgTop4);
imgHoverAndModalToggle(aboutImgBottom1);
imgHoverAndModalToggle(aboutImgBottom2);
imgHoverAndModalToggle(aboutImgBottom3);
imgHoverAndModalToggle(aboutImgBottom4);